import std.assert;

int GlobalInt1 = 5;
int GlobalInt2 = 10;

void TestIntIncrementDecrement()
{
    // Integer Pre-Increment and Pre-Decrement
    int a = 5;
    int c = 8;

    int preIncResultA = ++a;
    Assert(preIncResultA == 6);
    Assert(a == 6);

    int preDecResultC = --c;
    Assert(preDecResultC == 7);
    Assert(c == 7);

    // Integer Post-Increment and Post-Decrement
    int b = 10;
    int d = 15;

    int postIncResultB = b++;
    Assert(postIncResultB == 10);
    Assert(b == 11);

    int postDecResultD = d--;
    Assert(postDecResultD == 15);
    Assert(d == 14);

    int preIncResultGlobal1 = ++GlobalInt1;
    Assert(preIncResultGlobal1 == 6);
    Assert(GlobalInt1 == 6);

    int preDecResultGlobal2 = --GlobalInt2;
    Assert(preDecResultGlobal2 == 9);
    Assert(GlobalInt2 == 9);

    // Integer Post-Increment and Post-Decrement with Globals
    int postIncResultGlobal1 = GlobalInt1++;
    Assert(postIncResultGlobal1 == 6); // 6 before increment
    Assert(GlobalInt1 == 7); // 6 + 1
    int postDecResultGlobal2 = GlobalInt2--;
    Assert(postDecResultGlobal2 == 9); // 9 before decrement
    Assert(GlobalInt2 == 8); // 9 - 1
}

float GlobalFloat1 = 3.5;
float GlobalFloat2 = 8.5;

void TestFloatIncrementDecrement()
{
    // Float Pre-Increment and Pre-Decrement
    float e = 3.5;
    float g = 8.5;

    float preIncResultE = ++e;
    Assert(preIncResultE == 4.5);
    Assert(e == 4.5);

    float preDecResultG = --g;
    Assert(preDecResultG == 7.5);
    Assert(g == 7.5);

    // Float Post-Increment and Post-Decrement
    float f = 6.5;
    float h = 12.5;

    float postIncResultF = f++;
    Assert(postIncResultF == 6.5);
    Assert(f == 7.5);

    float postDecResultH = h--;
    Assert(postDecResultH == 12.5);
    Assert(h == 11.5);

    // Float Post-Increment and Post-Decrement with Globals
    float postIncResultGlobal1 = GlobalFloat1++;
    Assert(postIncResultGlobal1 == 3.5);
    Assert(GlobalFloat1 == 4.5);

    float postDecResultGlobal2 = GlobalFloat2--;
    Assert(postDecResultGlobal2 == 8.5);
    Assert(GlobalFloat2 == 7.5);
}

// Test increment in loop
void TestIncrementInLoop()
{
    int count = 0;
    for (int i = 0; i < 5; i++)
    {
        count++;
    }
    Assert(count == 5);

    int sum = 0;
    int j = 0;
    while (j < 5)
    {
        sum += j++;
    }
    Assert(sum == 10); // 0+1+2+3+4
    Assert(j == 5);
}

// Test multiple increments
void TestMultipleIncrements()
{
    int a = 0;
    a++;
    a++;
    a++;
    Assert(a == 3);

    int b = 10;
    b--;
    b--;
    Assert(b == 8);

    int c = 5;
    ++c;
    ++c;
    Assert(c == 7);
}

// Test increment with negative values
void TestIncrementNegative()
{
    int a = -5;
    a++;
    Assert(a == -4);

    int b = -1;
    b++;
    Assert(b == 0);

    int c = 0;
    c--;
    Assert(c == -1);

    int d = -10;
    ++d;
    Assert(d == -9);
}

// Test increment in expressions
void TestIncrementInExpressions()
{
    int a = 5;
    int b = a++ + 10;
    Assert(b == 15);
    Assert(a == 6);

    int c = 5;
    int d = ++c + 10;
    Assert(d == 16);
    Assert(c == 6);

    int e = 10;
    int f = e-- - 5;
    Assert(f == 5);
    Assert(e == 9);
}

// Test array element increment
void TestArrayIncrement()
{
    int[5] arr = {1, 2, 3, 4, 5};

    arr[0]++;
    Assert(arr[0] == 2);

    ++arr[1];
    Assert(arr[1] == 3);

    arr[2]--;
    Assert(arr[2] == 2);

    --arr[3];
    Assert(arr[3] == 3);
}

public int main()
{
    TestIntIncrementDecrement();
    TestFloatIncrementDecrement();
    TestIncrementInLoop();
    TestMultipleIncrements();
    TestIncrementNegative();
    TestIncrementInExpressions();
    TestArrayIncrement();

    return 0;
}