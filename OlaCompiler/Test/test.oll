Module ID : test.ola

declare @Assert void(i8)


declare @AssertMsg void(i8,ptr)


define external @GlobalFloat1 ptr 3.5


define external @GlobalFloat2 ptr 8.5


define internal @TestFloatIncrementDecrement void() {
entry:
%0 = alloca f64
store 6.5, ptr %0
%1 = alloca f64
store 12.5, ptr %1
%2 = load f64, ptr %0
%3 = alloca ptr
store f64 %2, ptr %3
%4 = fadd f64 %2, 1
store f64 %4, ptr %0
%5 = alloca f64
%6 = load ptr, ptr %3
store ptr %6, ptr %5
%7 = load f64, ptr %5
%8 = fcmp oeq f64 %7, 6.5
call i8 %8, @Assert
%9 = load f64, ptr %0
%10 = fcmp oeq f64 %9, 7.5
call i8 %10, @Assert
br label exit
exit:
ret 
}


define external @main i64() {
entry:
%0 = alloca i64
call ptr @TestFloatIncrementDecrement
store 0, ptr %0
br label exit
return:
br label exit
exit:
%1 = load i64, ptr %0
ret i64 %1
}

