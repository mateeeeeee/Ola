Module ID : test.ola

declare @Assert void(i8)


declare @AssertMsg void(i8,ptr)


define external @B$B__I void(ptr %this,i64 %y) {
entry:
%0 = ptr add ptr %this, 0
store i64 %y, ptr %0
br label exit
exit:
ret 
}


define external @D$D__I void(ptr %this,i64 %x) {
entry:
%0 = add i64 %x, %x
br label entry.inlined
entry.split:
%1 = ptr add ptr %this, 16
store i64 %x, ptr %1
br label exit
entry.inlined:
%2 = ptr add ptr %this, 0
store i64 %0, ptr %2
br label entry.split
exit:
ret 
}


define external @D$D__I__I void(ptr %this,i64 %x,i64 %y) {
entry:
call ptr %this, %x, @D$D__I
%0 = ptr add ptr %this, 16
%1 = load i64, ptr %0
%2 = smul i64 %1, %y
store i64 %2, ptr %0
br label exit
exit:
ret 
}


define external @main i64() {
entry:
%0 = alloca %D
%1 = ptr add ptr %0, 0
store 0, ptr %1
%2 = ptr add ptr %0, 16
store 0, ptr %2
call ptr %0, 5, @D$D__I
%3 = load i64, ptr %2
%4 = icmp eq i64 %3, 5
call i8 %4, @Assert
%5 = load i64, ptr %1
%6 = icmp eq i64 %5, 10
call i8 %6, @Assert
%7 = alloca %D
%8 = ptr add ptr %7, 0
store 0, ptr %8
%9 = ptr add ptr %7, 16
store 0, ptr %9
br label entry.inlined
entry.split:
%10 = load i64, ptr %9
%11 = icmp eq i64 %10, 6
call i8 %11, @Assert
%12 = load i64, ptr %8
%13 = icmp eq i64 %12, 4
call i8 %13, @Assert
br label exit
entry.inlined:
call ptr %7, 2, @D$D__I
%14 = load i64, ptr %9
%15 = smul i64 %14, 3
store i64 %15, ptr %9
br label entry.split
exit:
ret i64 0
}

