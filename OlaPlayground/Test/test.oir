Module ID : test.ola

declare @Assert void(i8)


declare @AssertMsg void(i8,ptr)


define internal @global_int_1 ptr 5


define internal @global_int_2 ptr 10


define internal @global_int_3 ptr 7


define internal @global_float_1 ptr 3.5


define internal @global_float_2 ptr 2.5


define internal @global_float_3 ptr 1.2


define internal @global_composite_mix_add_int ptr 5


define internal @global_composite_mix_add_float ptr 3.5


define internal @TestMixedTypeAddition void() {
entry:
%0 = load i64, ptr @global_int_1
%1 = s2f i64 %0
%2 = load f64, ptr @global_float_1
%3 = fadd f64 %1, %2
%4 = fcmp ogt f64 %3, 8.4999
%5 = fcmp olt f64 %3, 8.5001
%6 = and i8 %4, %5
%7 = icmp ne i8 %6, 0
call i8 %7, @Assert
%8 = s2f i64 5
%9 = load f64, ptr @global_float_2
%10 = fadd f64 %8, %9
%11 = fcmp ogt f64 %10, 7.4999
%12 = fcmp olt f64 %10, 7.5001
%13 = and i8 %11, %12
%14 = icmp ne i8 %13, 0
call i8 %14, @Assert
%15 = load i64, ptr @global_int_2
%16 = s2f i64 %15
%17 = fadd f64 %16, 2.5
%18 = fcmp ogt f64 %17, 12.4999
%19 = fcmp olt f64 %17, 12.5001
%20 = and i8 %18, %19
%21 = icmp ne i8 %20, 0
call i8 %21, @Assert
%22 = s2f i64 10
%23 = load f64, ptr @global_float_3
%24 = fadd f64 %22, %23
%25 = fcmp ogt f64 %24, 11.1999
%26 = fcmp olt f64 %24, 11.2001
%27 = and i8 %25, %26
%28 = icmp ne i8 %27, 0
call i8 %28, @Assert
%29 = load i64, ptr @global_int_3
%30 = s2f i64 %29
%31 = fadd f64 %30, 3.5
%32 = fcmp ogt f64 %31, 10.4999
%33 = fcmp olt f64 %31, 10.5001
%34 = and i8 %32, %33
%35 = icmp ne i8 %34, 0
call i8 %35, @Assert
%36 = fadd f64 %8, 1.5
%37 = fcmp ogt f64 %36, 6.4999
%38 = fcmp olt f64 %36, 6.5001
%39 = and i8 %37, %38
%40 = icmp ne i8 %39, 0
call i8 %40, @Assert
%41 = fadd f64 %8, 3.5
%42 = fcmp ogt f64 %41, 8.4999
%43 = fcmp olt f64 %41, 8.5001
%44 = and i8 %42, %43
%45 = icmp ne i8 %44, 0
call i8 %45, @Assert
%46 = fadd f64 %8, 2.5
%47 = f2s f64 %46
%48 = icmp eq i64 %47, 7
call i8 %48, @Assert
%49 = load f64, ptr @global_composite_mix_add_float
%50 = fadd f64 %49, %8
store f64 %50, ptr @global_composite_mix_add_float
%51 = load f64, ptr @global_composite_mix_add_float
%52 = fcmp ogt f64 %51, 8.4999
%53 = fcmp olt f64 %51, 8.5001
%54 = and i8 %52, %53
%55 = icmp ne i8 %54, 0
call i8 %55, @Assert
%56 = load i64, ptr @global_composite_mix_add_int
%57 = s2f i64 %56
%58 = fadd f64 %57, 2.5
%59 = f2s f64 %58
store i64 %59, ptr @global_composite_mix_add_int
%60 = load i64, ptr @global_composite_mix_add_int
%61 = icmp eq i64 %60, 7
call i8 %61, @Assert
%62 = fadd f64 %51, %8
store f64 %62, ptr @global_composite_mix_add_float
%63 = load f64, ptr @global_composite_mix_add_float
%64 = fcmp ogt f64 %63, 13.4999
%65 = fcmp olt f64 %63, 13.5001
%66 = and i8 %64, %65
%67 = icmp ne i8 %66, 0
call i8 %67, @Assert
%68 = s2f i64 %60
%69 = fadd f64 %68, 2.5
%70 = f2s f64 %69
store i64 %70, ptr @global_composite_mix_add_int
%71 = load i64, ptr @global_composite_mix_add_int
%72 = icmp eq i64 %71, 9
call i8 %72, @Assert
br label exit
exit:
ret 
}


define external @main i64() {
entry:
call ptr @TestMixedTypeAddition
br label exit
exit:
ret i64 0
}

